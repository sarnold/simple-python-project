<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Simple Python Project &mdash; simple 0.2.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=55b73dce" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=938c9ccc"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="simple" href="api/modules.html" />
    <link rel="prev" title="1.0 Automated Tests {#TST001}" href="ds/unit_tests.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            simple
          </a>
              <div class="version">
                0.2.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="ds/reqs_tree.html">1.0 Requirements overview {#REQ001}</a></li>
<li class="toctree-l1"><a class="reference internal" href="ds/sw_design.html">1.0 Design Elements {#SDD001}</a></li>
<li class="toctree-l1"><a class="reference internal" href="ds/unit_tests.html">1.0 Automated Tests {#TST001}</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Simple Python Project</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#template-repo-cleanup">Template repo cleanup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#make-a-badges-branch">Make a <code class="docutils literal notranslate"><span class="pre">badges</span></code> branch</a></li>
<li class="toctree-l3"><a class="reference internal" href="#make-a-gh-pages-branch">Make a <code class="docutils literal notranslate"><span class="pre">gh-pages</span></code> branch</a></li>
<li class="toctree-l3"><a class="reference internal" href="#github-workflows-and-setuptools-scm">Github workflows and setuptools_scm</a></li>
<li class="toctree-l3"><a class="reference internal" href="#github-workflows-and-repo-settings">Github workflows and repo settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="#github-best-practices">Github best practices</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#dev-tools">Dev tools</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#doorstop">Doorstop</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tox">Tox</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gitchangelog">Gitchangelog</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pre-commit">Pre-commit</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#sbom-and-license-info">SBOM and license info</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#commands">Commands</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api/modules.html">simple</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev/generate-changelog.html">Changelog Generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev/pre-commit-config.html">Contents of the <code class="docutils literal notranslate"><span class="pre">.pre-commit-config.yaml</span></code> file</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev/pre-commit-usage.html">Using Pre-Commit</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">simple</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Simple Python Project</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/README.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="simple-python-project">
<h1>Simple Python Project<a class="headerlink" href="#simple-python-project" title="Link to this heading"></a></h1>
<p>Python project using simple setuptools project config; note package
data, scripts, entry points, etc, <strong>all still work</strong> using pyproject.toml
per <a class="reference external" href="https://setuptools.pypa.io/en/latest/userguide/package_discovery.html">setuptools documentation</a>.</p>
<p>To create a new repository using this template, click the button labeled
<strong>Use this template</strong> and select <strong>Create a new repository</strong>.</p>
<p><a class="reference external" href="https://github.com/sarnold/simple-python-project/actions/workflows/ci.yml"><img alt="CI Status" src="https://github.com/sarnold/simple-python-project/actions/workflows/ci.yml/badge.svg" /></a> <a class="reference external" href="https://github.com/sarnold/simple-python-project/actions/workflows/wheels.yml"><img alt="Wheel Status" src="https://github.com/sarnold/simple-python-project/actions/workflows/wheels.yml/badge.svg" /></a> <a class="reference external" href="https://github.com/sarnold/simple-python-project/actions/workflows/bandit.yml"><img alt="Security check - Bandit" src="https://github.com/sarnold/simple-python-project/actions/workflows/bandit.yml/badge.svg" /></a> <a class="reference external" href="https://github.com/sarnold/simple-python-project/actions/workflows/release.yml"><img alt="Release Status" src="https://github.com/sarnold/simple-python-project/actions/workflows/release.yml/badge.svg" /></a></p>
<p><a class="reference external" href="https://github.com/pre-commit/pre-commit"><img alt="pre-commit" src="https://img.shields.io/badge/pre--commit-enabled-brightgreen?logo=pre-commit&amp;logoColor=white" /></a> <a class="reference external" href="https://github.com/sarnold/simple-python-project/actions/workflows/coverage.yml"><img alt="Test coverage" src="https://raw.githubusercontent.com/sarnold/simple-python-project/badges/main/test-coverage.svg" /></a> <a class="reference external" href="https://github.com/sarnold/simple-python-project/actions/workflows/pylint.yml"><img alt="Pylint Score" src="https://raw.githubusercontent.com/sarnold/simple-python-project/badges/main/pylint-score.svg" /></a></p>
<p><a class="reference external" href="https://github.com/sarnold/simple-python-project/releases"><img alt="GitHub tag" src="https://img.shields.io/github/v/tag/sarnold/simple-python-project?color=green&amp;include_prereleases&amp;label=latest%20release" /></a> <a class="reference external" href="https://github.com/sarnold/simple-python-project/blob/main/LICENSE"><img alt="License" src="https://img.shields.io/badge/license-MIT-blue" /></a> <a class="reference external" href="https://reuse.software/spec-3.3/"><img alt="REUSE status" src="https://img.shields.io/badge/REUSE-compliant-blue.svg" /></a> <a class="reference external" href="https://www.python.org/downloads/"><img alt="Python" src="https://img.shields.io/badge/python-3.9+-blue.svg" /></a></p>
<section id="template-repo-cleanup">
<h2>Template repo cleanup<a class="headerlink" href="#template-repo-cleanup" title="Link to this heading"></a></h2>
<p>After creating your repository, replace the example project name “simple”
with your own:</p>
<ul class="simple">
<li><p>change the project name at the top of <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code></p></li>
<li><p>change the project name in <code class="docutils literal notranslate"><span class="pre">docs/source/conf.py</span></code> <em>and</em> <code class="docutils literal notranslate"><span class="pre">docs/source/index.rst</span></code></p></li>
<li><p>change the author and copyright names in all the doorstop doc and config files, ie</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">find</span> <span class="pre">.</span> <span class="pre">-name</span> <span class="pre">.doorstop.yml</span></code> and review/edit all files</p></li>
</ul>
</li>
<li><p>then replace all the doorstop content with your own project details</p></li>
<li><p>create more doorstop items as needed, link specific design and test
elements back to related <strong>Shall</strong> statements</p></li>
<li><p>change the author details in <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code> <em>and</em> <code class="docutils literal notranslate"><span class="pre">docs/source/conf.py</span></code></p></li>
<li><p>change the package directory name under the <code class="docutils literal notranslate"><span class="pre">src</span></code> folder</p></li>
<li><p>change the github URL paths in <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code></p></li>
</ul>
<section id="make-a-badges-branch">
<h3>Make a <code class="docutils literal notranslate"><span class="pre">badges</span></code> branch<a class="headerlink" href="#make-a-badges-branch" title="Link to this heading"></a></h3>
<p>Create an orphan branch for Pylint and Coverage workflows. In a fresh
checkout, run the following commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git checkout --orphan badges
$ git reset --hard
$ git commit --allow-empty -m &quot;Initializing badges branch&quot;
$ git push origin badges
$ git checkout main
</pre></div>
</div>
</section>
<section id="make-a-gh-pages-branch">
<h3>Make a <code class="docutils literal notranslate"><span class="pre">gh-pages</span></code> branch<a class="headerlink" href="#make-a-gh-pages-branch" title="Link to this heading"></a></h3>
<p>Follow the same steps shown above, changing the branch name to <code class="docutils literal notranslate"><span class="pre">gh-pages</span></code>.</p>
</section>
<section id="github-workflows-and-setuptools-scm">
<h3>Github workflows and setuptools_scm<a class="headerlink" href="#github-workflows-and-setuptools-scm" title="Link to this heading"></a></h3>
<p>This project uses <a class="reference external" href="https://setuptools-scm.readthedocs.io/en/stable/">setuptools_scm</a> for dynamic versioning, therefor some
of the (github) workflows will look for a git tag to set the version in
CI. If there are no tags, this will result in some failed workflow runs.
There are several options to make them succeed:</p>
<ul class="simple">
<li><p>create a base tag, eg <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">tag</span> <span class="pre">-a</span> <span class="pre">0.0.0</span></code></p></li>
<li><p>set SETUPTOOLS_SCM_PRETEND_VERSION to the above value in the workflow env</p></li>
<li><p>disable failing workflows in the Github Actions tab</p></li>
<li><p>delete any workflows you don’t need</p></li>
</ul>
</section>
<section id="github-workflows-and-repo-settings">
<h3>Github workflows and repo settings<a class="headerlink" href="#github-workflows-and-repo-settings" title="Link to this heading"></a></h3>
<p>Some of the automation workflows may also fail without some non-default
repository settings; the following changes are required to allow these
workflows to run.</p>
<p>Go to the repository Settings tab and scroll to the bottom of the General
settings and enable these checkboxes under Pull Requests:</p>
<ul class="simple">
<li><p>Always suggest updating pull request branches (optional)</p></li>
<li><p>Allow auto-merge (required)</p></li>
<li><p>Automatically delete head branches (optional)</p></li>
</ul>
<p>Next, in the left-hand menu under the Settings tab, click Actions, then General,
then scroll to Workflow permissions:</p>
<ul class="simple">
<li><p>make sure <em>Read repository contents and packages permissions</em> is selected</p></li>
<li><p>enable the <em>Allow GitHub Actions to create and approve pull requests</em> checkbox,
then click Save</p></li>
</ul>
<p>In addition, the provided dependabot config expects some issue labels, so open the
project URL below (using your new project name) and add the following new labels:</p>
<p><strong>https://github.com/&lt;your_name&gt;/&lt;project_name&gt;/issues/labels</strong></p>
<ul class="simple">
<li><p>actions</p></li>
<li><p>dependencies</p></li>
<li><p>packaging</p></li>
</ul>
</section>
<section id="github-best-practices">
<h3>Github best practices<a class="headerlink" href="#github-best-practices" title="Link to this heading"></a></h3>
<p>Finally, best practices for public repositories should include the following
extra features:</p>
<ul class="simple">
<li><p>under Advanced Security enable Code Scanning, Dependabot, Private
Vulnerability Reporting, and (default) Codeql config</p></li>
<li><p>under Rules =&gt; Rulesets add some branch protection rules with required
status checks</p></li>
</ul>
</section>
</section>
<section id="dev-tools">
<h2>Dev tools<a class="headerlink" href="#dev-tools" title="Link to this heading"></a></h2>
<p>Local tool dependencies to aid in development; install them for
maximum enjoyment.</p>
<section id="doorstop">
<h3>Doorstop<a class="headerlink" href="#doorstop" title="Link to this heading"></a></h3>
<p>Initial configurations and first-item doc stubs have been created in the
following directories:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ tree reqs/ docs/swd/ tests/docs/
reqs/
├── .doorstop.yml
└── REQ001.yml
docs/swd/
├── assets
│   ├── .gitkeep
│   └── simple_dependency_graph.svg
├── .doorstop.yml
└── SDD001.md
tests/docs/
├── .doorstop.yml
└── TST001.yml
</pre></div>
</div>
<p>The doorstop tool has been added to project [dev] “extras” as well as the
tox dev and docs environments. Use the “dev” environment for working with
<a class="reference external" href="https://doorstop.readthedocs.io/en/latest/index.html">doorstop</a> documents, eg:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>tox -e dev
source .venv/bin/activate
(.venv) doorstop
building tree...
loading documents...
validating items...
WARNING: SDD: SDD001: unreviewed changes

REQ
│
├── TST
│
└── SDD
</pre></div>
</div>
<p>Please see the doorstop Quick Start for an overview of the relevant doorstop
commands. See the <a class="reference external" href="https://github.com/sarnold/rpmget">rpmget project</a> for a more fleshed out real-world example
of using <a class="reference external" href="https://doorstop.readthedocs.io/en/latest/index.html">doorstop</a> and sphinx together.</p>
</section>
<section id="tox">
<h3>Tox<a class="headerlink" href="#tox" title="Link to this heading"></a></h3>
<p>As long as you have git and at least Python 3.8, then you can install
and use <a class="reference external" href="https://github.com/tox-dev/tox">tox</a>.  After cloning the repository, you can run the repo
checks with the <code class="docutils literal notranslate"><span class="pre">tox</span></code> command.  It will build a virtual python
environment for each installed version of python with all the python
dependencies and run the specified commands, eg:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git clone https://github.com/sarnold/simple-python-project
$ cd simple-python-project/
$ tox -e py
</pre></div>
</div>
<p>The above will run the default test command using the (local) default
Python version.  To specify the Python version and host OS type, run
something like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ tox -e py311-linux
</pre></div>
</div>
<p>To build and check the Python package, run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ tox -e build,check
</pre></div>
</div>
<p>Full list of additional <code class="docutils literal notranslate"><span class="pre">tox</span></code> commands:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">tox</span> <span class="pre">-e</span> <span class="pre">dev</span></code> build a python venv and install in editable mode</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tox</span> <span class="pre">-e</span> <span class="pre">build</span></code> build the python packages and run package checks</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tox</span> <span class="pre">-e</span> <span class="pre">check</span></code> install the wheel package from above</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tox</span> <span class="pre">-e</span> <span class="pre">lint</span></code> run <code class="docutils literal notranslate"><span class="pre">pylint</span></code> (somewhat less permissive than PEP8/flake8 checks)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tox</span> <span class="pre">-e</span> <span class="pre">mypy</span></code> run mypy import and type checking</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tox</span> <span class="pre">-e</span> <span class="pre">style</span></code> run flake8 style checks</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tox</span> <span class="pre">-e</span> <span class="pre">reuse</span></code> run the <code class="docutils literal notranslate"><span class="pre">reuse</span> <span class="pre">lint</span></code> command and install sbom4python</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tox</span> <span class="pre">-e</span> <span class="pre">changes</span></code> generate a new changelog file</p></li>
</ul>
<p>To build/lint the api docs, use the following tox commands:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">tox</span> <span class="pre">-e</span> <span class="pre">docs</span></code> build the documentation using sphinx and the api-doc plugin</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tox</span> <span class="pre">-e</span> <span class="pre">ldocs</span></code> run the Sphinx doc-link checking</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tox</span> <span class="pre">-e</span> <span class="pre">cdocs</span></code> run <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">clean</span></code> in the docs build</p></li>
</ul>
</section>
<section id="gitchangelog">
<h3>Gitchangelog<a class="headerlink" href="#gitchangelog" title="Link to this heading"></a></h3>
<p>We use <a class="reference external" href="https://github.com/sarnold/gitchangelog">gitchangelog</a>  to generate a changelog and/or release notes, as
well as the gitchangelog message format to help it categorize/filter
commits for tidier output.  Please use the appropriate ACTION modifiers
for important changes in Pull Requests.</p>
</section>
<section id="pre-commit">
<h3>Pre-commit<a class="headerlink" href="#pre-commit" title="Link to this heading"></a></h3>
<p>This repo is also <a class="reference external" href="http://pre-commit.com/">pre-commit</a> enabled for various linting and format
checks.  The checks run automatically on commit and will fail the
commit (if not clean) with some checks performing simple file corrections.</p>
<p>If other checks fail on commit, the failure display should explain the error
types and line numbers. Note you must fix any fatal errors for the
commit to succeed; some errors should be fixed automatically (use
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code> and <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">diff</span></code> to review any changes).</p>
<p>See the following sections in the built docs for more information on
gitchangelog and pre-commit.</p>
<p>You will need to install pre-commit before contributing any changes;
installing it using your system’s package manager is recommended,
otherwise install with pip into your usual virtual environment using
something like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ sudo emerge pre-commit  --or--
$ pip install pre-commit
</pre></div>
</div>
<p>then install it into the repo you just cloned:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git clone git@github.com:sarnold/simple-python-project.git
$ cd simple-python-project/
$ pre-commit install
</pre></div>
</div>
<p>It’s usually a good idea to update the hooks to the latest version:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pre</span><span class="o">-</span><span class="n">commit</span> <span class="n">autoupdate</span>
</pre></div>
</div>
</section>
</section>
<section id="sbom-and-license-info">
<h2>SBOM and license info<a class="headerlink" href="#sbom-and-license-info" title="Link to this heading"></a></h2>
<p>This project is now compliant with the REUSE Specification Version 3.3, so the
corresponding license information for all files can be found in the <code class="docutils literal notranslate"><span class="pre">REUSE.toml</span></code>
configuration file with license text(s) in the <code class="docutils literal notranslate"><span class="pre">LICENSES/</span></code> folder.</p>
<p>Related metadata can be (re)generated with the following tools and command
examples.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/fsfe/reuse-tool">reuse-tool</a> - <a class="reference external" href="https://reuse.software/spec-3.3/">REUSE</a> compliance linting and sdist (source files) SBOM generation</p></li>
<li><p><a class="reference external" href="https://github.com/anthonyharrison/sbom4python">sbom4python</a> - generate SBOM with full dependency chain</p></li>
</ul>
<section id="commands">
<h3>Commands<a class="headerlink" href="#commands" title="Link to this heading"></a></h3>
<p>Use tox to create the environment and run the lint command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ tox -e reuse                      # --or--
$ tox -e reuse -- spdx &gt; sbom.txt   # generate sdist files sbom
</pre></div>
</div>
<p>Note you can pass any of the other reuse commands after the <code class="docutils literal notranslate"><span class="pre">--</span></code> above.</p>
<p>Use the above environment to generate the full SBOM in text format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ source .tox/reuse/bin/activate
$ sbom4python --system --use-pip -o &lt;file_name&gt;.txt
</pre></div>
</div>
<p>Be patient; the last command above may take several minutes. See the
doc links above for more detailed information on the tools and
specifications.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="ds/unit_tests.html" class="btn btn-neutral float-left" title="1.0 Automated Tests {#TST001}" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="api/modules.html" class="btn btn-neutral float-right" title="simple" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025 Tracy Developer.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>